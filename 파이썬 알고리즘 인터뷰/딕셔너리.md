## 딕셔너리

딕셔너리는 파이썬을 사용하면서 가장 빈번하게 접하게 되는 자료형이다.

파이썬의 딕셔너리는 키/값 구조로 이뤄진 딕셔너리를 말한다.

파이썬 3.7+ 에서는 입력 순서가 윶되며 내부적으로는 해시 테이블로 구현되어 있다.

인덱스를 숫자로만 지정할 수 있는 리스트와 달리 딕셔너리는 문자를 포함해 다양한 타입을 키로 사용할 수 있다. 특히 파이썬의 딕셔너리는 해시할 수만 있다면 숫자 뿐만 아니라, 문자, 집합 까지 불변 객체를 모두 키로 사용 할 수 있다. 이 과정을 해싱이라고 하며, 해시 테이블을 이용해 자료를 저장한다.

해시 테이블은 다양한 타입을 키로 지원하면서도 입력과 조회 모두 O(1)에 가능하다.

최악의 경우 O(n)이 될 수 있으나 대부분의 경우 훨씬 더 빨리 실행 되며, 분할 상환 분석에 따른 시간 복잡도는 O(1)이다.

| 연산           | 시간복잡도 | 설명                                 |
| :------------- | :--------- | :----------------------------------- |
| len(a)         | O(1)       | 요소의 개수를 리턴한다.              |
| a[key]         | O(1)       | 키를 조회하여 값을 리턴한다.         |
| a[key] = value | O(1)       | 키/값을 삽입한다.                    |
| a[key]         | O(1)       | 딕셔너리에 키가 존재하는지 확인한다. |

딕셔너리는 대부분의 연산이 O(1)에 처리 가능한 매우 우수한 자료형이다

### 딕셔너리 활용 방법

딕셔너리는 다음과 같이 선언할 수 있다.

```py

a= dict()

a= {}
```

초기값으로 지정해 선언하거나 나중에 별도로 선언하여 값을 할당할 수 있다.

```py
a= {'key1' : 'value1', 'key2' : 'value2'}

a['key3'] = 'value3'

print(a) # {'key1' : 'value1', 'key2' : 'value2', 'key3' : 'value3'}
```

존재 하지 않는 키를 조회할 경우에는 에러가 발생한다.

키를 삭제할 때도 없는 키를 삭제하면 에러가 발생한다.

try 구문으로 예외 처리를 하게 되면, 존재하지 않는 키의 경우 별도 작업을 할 수 있어 유용하다.

```py
try:
  print(a['key4'])

except KeyError:
  print('존재하지 않는 키')
```

또는 예외 처리 방법

```py
if 'key4' in a:
  print('존재')
else:
  print('존재X')
```

딕셔너리에 있는 키/값은 반복문으로도 조회가 가능하다.

item() 메소드를 사용하면 키와 값을 각각 꺼내 올 수 있다.

```py
for k,v in a.item():
  print(k,v)

  """
  key1 value1
  key2 value2
  key3 value3
  """
```

del 로 삭제할 수 있다.

```py
del a['key1']

print(a) # {'key2' : 'value2','key3' : 'value3'}
```

### 딕셔너리 모듈

딕셔너리와 관련되 특수한 형태의 컨테이너 자료형이 defulatdict, Counter, OrderedDict를 제공한다.

#### defaultdict 객체

defaultdict 객체는 존재하지 않는 키를 조회할 경우, 에러 메세지를 출력하는 대신 디폴트 값을 기준으로 해당 키에 대한 딕셔너리 아이템을 생성해 준다.

```py

a= collections.defaultdict(int)

a['A'] =5
a['B'] =4

print(a)

# defaultdict(<class 'int'>, {'A': 5, 'B': 4})

a['C'] +=1

print(a)

# defaultdict(<class 'int'>, {'A': 5, 'B': 4, 'C': 1})

```

### Counter

```py
a = [1,2,3,4,5,5,5,6,6]
b = collections.Counter(a)

print(b)

# Counter({5: 3, 6: 2, 1: 1, 2: 1, 3: 1, 4: 1})

c = b.most_common(2)

print(c)

# [(5, 3), (6, 2)]
```

### OrderedDict

```py

d= collections.OrderedDict({'a':3, 'b':4, 'c':1, 'd':2})

print(d)

# OrderedDict([('a', 3), ('b', 4), ('c', 1), ('d', 2)])
```
